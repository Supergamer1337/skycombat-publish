var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,c=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&r(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&r(e,a,t[a]);return e},o=(e,s)=>t(e,a(s));import{S as i,i as u,s as p,e as f,t as d,c as $,a as m,b as h,d as v,f as y,g,h as b,n as k,j as E,k as w,l as D,m as x,o as I,p as P,q as V,r as T,u as q,v as N,w as A,x as M,y as B,z as S,A as O,B as R,C as j,D as C,E as U,F as L,G as z,H as K,I as _,J as F,K as W,L as G,M as H,N as J,O as Q,P as X,Q as Y,R as Z,T as ee,U as te,V as ae,W as se,X as ne,Y as le,Z as re,_ as ce}from"./vendor.07779c47.js";function oe(e){let t,a,s;return{c(){t=f("div"),a=f("p"),s=d("B"),this.h()},l(e){t=$(e,"DIV",{class:!0});var n=m(t);a=$(n,"P",{class:!0});var l=m(a);s=h(l,"B"),l.forEach(v),n.forEach(v),this.h()},h(){y(a,"class","letter svelte-13vvzvi"),y(t,"class","boost svelte-13vvzvi")},m(e,n){g(e,t,n),b(t,a),b(a,s)},p:k,i:k,o:k,d(e){e&&v(t)}}}class ie extends i{constructor(e){super(),u(this,e,null,oe,p,{})}}function ue(e){let t,a,s;return{c(){t=f("div"),a=f("p"),s=d("S"),this.h()},l(e){t=$(e,"DIV",{class:!0});var n=m(t);a=$(n,"P",{class:!0});var l=m(a);s=h(l,"S"),l.forEach(v),n.forEach(v),this.h()},h(){y(a,"class","letter svelte-2608bq"),y(t,"class","setback svelte-2608bq")},m(e,n){g(e,t,n),b(t,a),b(a,s)},p:k,i:k,o:k,d(e){e&&v(t)}}}class pe extends i{constructor(e){super(),u(this,e,null,ue,p,{})}}function fe(e){let t,a,s,n,l,r,c,o,i,u=e[0]?"Player":"Enemy",p=e[3]&&$e(e),k=e[2]&&me(e);return{c(){t=f("div"),a=f("p"),s=d(u),n=A(),l=f("div"),p&&p.c(),r=A(),k&&k.c(),this.h()},l(e){t=$(e,"DIV",{class:!0});var c=m(t);a=$(c,"P",{class:!0});var o=m(a);s=h(o,u),o.forEach(v),n=M(c),l=$(c,"DIV",{class:!0});var i=m(l);p&&p.l(i),r=M(i),k&&k.l(i),i.forEach(v),c.forEach(v),this.h()},h(){y(a,"class","name svelte-1t9s7g0"),y(l,"class","extra-dice svelte-1t9s7g0"),y(t,"class","card svelte-1t9s7g0"),B(t,"player",e[0]),B(t,"enemy",e[1])},m(e,c){g(e,t,c),b(t,a),b(a,s),b(t,n),b(t,l),p&&p.m(l,null),b(l,r),k&&k.m(l,null),i=!0},p(e,a){(!i||1&a)&&u!==(u=e[0]?"Player":"Enemy")&&q(s,u),e[3]?p?(p.p(e,a),8&a&&I(p,1)):(p=$e(e),p.c(),I(p,1),p.m(l,r)):p&&(w(),D(p,1,1,(()=>{p=null})),x()),e[2]?k?(k.p(e,a),4&a&&I(k,1)):(k=me(e),k.c(),I(k,1),k.m(l,null)):k&&(w(),D(k,1,1,(()=>{k=null})),x()),1&a&&B(t,"player",e[0]),2&a&&B(t,"enemy",e[1])},i(e){i||(I(p),I(k),S((()=>{o&&o.end(1),c||(c=O(t,j,{x:-300,duration:500})),c.start()})),i=!0)},o(e){D(p),D(k),c&&c.invalidate(),o=R(t,j,{x:300,duration:500}),i=!1},d(e){e&&v(t),p&&p.d(),k&&k.d(),e&&o&&o.end()}}}function de(e){let t,a,s;return{c(){t=f("div"),a=f("p"),s=d("Next Round"),this.h()},l(e){t=$(e,"DIV",{class:!0});var n=m(t);a=$(n,"P",{});var l=m(a);s=h(l,"Next Round"),l.forEach(v),n.forEach(v),this.h()},h(){y(t,"class","card next-round svelte-1t9s7g0")},m(e,n){g(e,t,n),b(t,a),b(a,s)},p:k,i:k,o:k,d(e){e&&v(t)}}}function $e(e){let t,a,s,n,l;return n=new ie({}),{c(){t=f("p"),a=d(e[3]),s=d("x"),P(n.$$.fragment),this.h()},l(l){t=$(l,"P",{class:!0});var r=m(t);a=h(r,e[3]),s=h(r,"x"),V(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(t,"class","dice-container svelte-1t9s7g0")},m(e,r){g(e,t,r),b(t,a),b(t,s),T(n,t,null),l=!0},p(e,t){(!l||8&t)&&q(a,e[3])},i(e){l||(I(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&v(t),N(n)}}}function me(e){let t,a,s,n,l;return n=new pe({}),{c(){t=f("p"),a=d(e[2]),s=d("x"),P(n.$$.fragment),this.h()},l(l){t=$(l,"P",{class:!0});var r=m(t);a=h(r,e[2]),s=h(r,"x"),V(n.$$.fragment,r),r.forEach(v),this.h()},h(){y(t,"class","dice-container svelte-1t9s7g0")},m(e,r){g(e,t,r),b(t,a),b(t,s),T(n,t,null),l=!0},p(e,t){(!l||4&t)&&q(a,e[2])},i(e){l||(I(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&v(t),N(n)}}}function he(e){let t,a,s,n;const l=[de,fe],r=[];function c(e,t){return e[4]?0:1}return t=c(e),a=r[t]=l[t](e),{c(){a.c(),s=E()},l(e){a.l(e),s=E()},m(e,a){r[t].m(e,a),g(e,s,a),n=!0},p(e,[n]){let o=t;t=c(e),t===o?r[t].p(e,n):(w(),D(r[o],1,1,(()=>{r[o]=null})),x(),a=r[t],a?a.p(e,n):(a=r[t]=l[t](e),a.c()),I(a,1),a.m(s.parentNode,s))},i(e){n||(I(a),n=!0)},o(e){D(a),n=!1},d(e){r[t].d(e),e&&v(s)}}}function ve(e,t,a){let{player:s=!1}=t,{enemy:n=!1}=t,{setback:l=0}=t,{boost:r=0}=t,{nextRound:c=!1}=t;return e.$$set=e=>{"player"in e&&a(0,s=e.player),"enemy"in e&&a(1,n=e.enemy),"setback"in e&&a(2,l=e.setback),"boost"in e&&a(3,r=e.boost),"nextRound"in e&&a(4,c=e.nextRound)},[s,n,l,r,c]}class ye extends i{constructor(e){super(),u(this,e,ve,he,p,{player:0,enemy:1,setback:2,boost:3,nextRound:4})}}const ge=C([]),be=C([]),ke=C(0),Ee=C(0),we=C(0),De=C(0),xe=C(0),Ie=C(0),Pe=C(0),Ve=C(0),Te=C(0),qe=C(0),Ne=C(0),Ae=C({boosts:0,setbacks:0,id:void 0}),Me=U([ge,be],(([e,t],a)=>{let s=[];e.forEach((e=>s.push(o(c({},e.initiative),{type:"player",uid:e.uid,incapacitated:e.incapacitated})))),t.forEach((e=>s.push(o(c({},e.initiative),{type:"enemy",uid:e.uid,incapacitated:e.incapacitated})))),s.sort(Le),a(s)})),Be=C(1),Se=C(0),Oe=U([Me,Be,Se],(([e,t,a],s)=>{let n=[...e];n=n.filter((e=>{if(!e.incapacitated)return e}));let l=e.length-n.length-a;0!==l&&(Be.set(t-l),Se.update((e=>e+l))),n=n.splice(t-1),s(n)})),Re=U(Oe,((e,t)=>{t(e[0])})),je=U([Oe,Ie,Pe,Ve,Te],(([e,t,a,s,n],l)=>{var r,i;let u=[...e];u.shift();let p=u.findIndex((e=>"player"===e.type));"player"===(null==(r=u[p])?void 0:r.type)&&(u[p]=o(c({},u[p]),{boosts:t,setbacks:s}));let f=u.findIndex((e=>"enemy"===e.type));"enemy"===(null==(i=u[f])?void 0:i.type)&&(u[f]=o(c({},u[f]),{boosts:a,setbacks:n})),l(u)})),Ce=U([Ne,qe,Ae],(([e,t,a],s)=>{s({boosts:e+a.boosts,setbacks:t+a.setbacks})})),Ue=C(1);function Le(e,t){let a=t.success-e.success||t.triumph-e.triumph||t.advantage-e.advantage;return 0===a?"player"===e.type?-1:0:a}function ze(e,t,a){const s=e.slice();return s[3]=t[a],s[5]=a,s}function Ke(e){let t,a;return t=new ye({props:{player:"player"===e[0].type,enemy:"enemy"===e[0].type,boost:e[1].boosts,setback:e[1].setbacks}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p(e,a){const s={};1&a&&(s.player="player"===e[0].type),1&a&&(s.enemy="enemy"===e[0].type),2&a&&(s.boost=e[1].boosts),2&a&&(s.setback=e[1].setbacks),t.$set(s)},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function _e(e,t){let a,s,n;return s=new ye({props:{player:"player"===t[3].type,enemy:"enemy"===t[3].type,boost:t[3].boosts,setback:t[3].setbacks}}),{key:e,first:null,c(){a=E(),P(s.$$.fragment),this.h()},l(e){a=E(),V(s.$$.fragment,e),this.h()},h(){this.first=a},m(e,t){g(e,a,t),T(s,e,t),n=!0},p(e,a){t=e;const n={};4&a&&(n.player="player"===t[3].type),4&a&&(n.enemy="enemy"===t[3].type),4&a&&(n.boost=t[3].boosts),4&a&&(n.setback=t[3].setbacks),s.$set(n)},i(e){n||(I(s.$$.fragment,e),n=!0)},o(e){D(s.$$.fragment,e),n=!1},d(e){e&&v(a),N(s,e)}}}function Fe(e){let t,a,s,n,l,r,c,o,i,u,p,k,E=[],q=new Map,B=e[0]&&Ke(e),S=e[2];const O=e=>e[3].uid;for(let f=0;f<S.length;f+=1){let t=ze(e,S,f),a=O(t);q.set(a,E[f]=_e(a,t))}return p=new ye({props:{nextRound:!0}}),{c(){t=f("p"),a=d("Current Turn"),s=A(),n=f("div"),B&&B.c(),l=A(),r=f("p"),c=d("Upcoming Turns"),o=A(),i=f("div");for(let e=0;e<E.length;e+=1)E[e].c();u=A(),P(p.$$.fragment),this.h()},l(e){t=$(e,"P",{class:!0});var f=m(t);a=h(f,"Current Turn"),f.forEach(v),s=M(e),n=$(e,"DIV",{class:!0});var d=m(n);B&&B.l(d),d.forEach(v),l=M(e),r=$(e,"P",{class:!0});var y=m(r);c=h(y,"Upcoming Turns"),y.forEach(v),o=M(e),i=$(e,"DIV",{class:!0});var g=m(i);for(let t=0;t<E.length;t+=1)E[t].l(g);u=M(g),V(p.$$.fragment,g),g.forEach(v),this.h()},h(){y(t,"class","section-header svelte-1ed7h51"),y(n,"class","current-turn svelte-1ed7h51"),y(r,"class","section-header svelte-1ed7h51"),y(i,"class","upcoming-turns-list svelte-1ed7h51")},m(e,f){g(e,t,f),b(t,a),g(e,s,f),g(e,n,f),B&&B.m(n,null),g(e,l,f),g(e,r,f),b(r,c),g(e,o,f),g(e,i,f);for(let t=0;t<E.length;t+=1)E[t].m(i,null);b(i,u),T(p,i,null),k=!0},p(e,[t]){e[0]?B?(B.p(e,t),1&t&&I(B,1)):(B=Ke(e),B.c(),I(B,1),B.m(n,null)):B&&(w(),D(B,1,1,(()=>{B=null})),x()),4&t&&(S=e[2],w(),E=L(E,t,O,1,e,S,q,i,z,_e,u,ze),x())},i(e){if(!k){I(B);for(let e=0;e<S.length;e+=1)I(E[e]);I(p.$$.fragment,e),k=!0}},o(e){D(B);for(let t=0;t<E.length;t+=1)D(E[t]);D(p.$$.fragment,e),k=!1},d(e){e&&v(t),e&&v(s),e&&v(n),B&&B.d(),e&&v(l),e&&v(r),e&&v(o),e&&v(i);for(let t=0;t<E.length;t+=1)E[t].d();N(p)}}}function We(e,t,a){let s,n,l;return K(e,Re,(e=>a(0,s=e))),K(e,Ce,(e=>a(1,n=e))),K(e,je,(e=>a(2,l=e))),[s,n,l]}class Ge extends i{constructor(e){super(),u(this,e,We,Fe,p,{})}}function He(e){let t,a,s,n;return{c(){t=f("button"),a=d(e[3]),this.h()},l(s){t=$(s,"BUTTON",{type:!0,style:!0,class:!0});var n=m(t);a=h(n,e[3]),n.forEach(v),this.h()},h(){y(t,"type",e[5]),_(t,"background-color",e[4]),y(t,"class","svelte-1ws21hx"),B(t,"activeDisable",e[6]),B(t,"small",e[1]),B(t,"big",e[0]),B(t,"icon",e[2])},m(l,r){g(l,t,r),b(t,a),s||(n=F(t,"click",e[7]),s=!0)},p(e,[s]){8&s&&q(a,e[3]),32&s&&y(t,"type",e[5]),16&s&&_(t,"background-color",e[4]),64&s&&B(t,"activeDisable",e[6]),2&s&&B(t,"small",e[1]),1&s&&B(t,"big",e[0]),4&s&&B(t,"icon",e[2])},i:k,o:k,d(e){e&&v(t),s=!1,n()}}}function Je(e,t,a){let{big:s=!1}=t,{small:n=!1}=t,{icon:l=!1}=t,{label:r=""}=t,{color:c=""}=t,{type:o="button"}=t,{activeDisable:i=!1}=t;return e.$$set=e=>{"big"in e&&a(0,s=e.big),"small"in e&&a(1,n=e.small),"icon"in e&&a(2,l=e.icon),"label"in e&&a(3,r=e.label),"color"in e&&a(4,c=e.color),"type"in e&&a(5,o=e.type),"activeDisable"in e&&a(6,i=e.activeDisable)},[s,n,l,r,c,o,i,function(t){W(e,t)}]}class Qe extends i{constructor(e){super(),u(this,e,Je,He,p,{big:0,small:1,icon:2,label:3,color:4,type:5,activeDisable:6})}}function Xe(e){let t,a,s,n,l,r,c,o,i,u,p;return r=new Ge({}),u=new Qe({props:{big:!0,label:"End Turn",color:"var(--other-action-color)"}}),u.$on("click",e[1]),{c(){t=f("div"),a=f("p"),s=d("Current Round: "),n=d(e[0]),l=A(),P(r.$$.fragment),c=A(),o=f("div"),i=A(),P(u.$$.fragment),this.h()},l(p){t=$(p,"DIV",{class:!0});var f=m(t);a=$(f,"P",{class:!0});var d=m(a);s=h(d,"Current Round: "),n=h(d,e[0]),d.forEach(v),l=M(f),V(r.$$.fragment,f),c=M(f),o=$(f,"DIV",{class:!0}),m(o).forEach(v),i=M(f),V(u.$$.fragment,f),f.forEach(v),this.h()},h(){y(a,"class","card-header svelte-118hq3f"),y(o,"class","divider svelte-118hq3f"),y(t,"class","card c svelte-118hq3f")},m(e,f){g(e,t,f),b(t,a),b(a,s),b(a,n),b(t,l),T(r,t,null),b(t,c),b(t,o),b(t,i),T(u,t,null),p=!0},p(e,[t]){(!p||1&t)&&q(n,e[0])},i(e){p||(I(r.$$.fragment,e),I(u.$$.fragment,e),p=!0)},o(e){D(r.$$.fragment,e),D(u.$$.fragment,e),p=!1},d(e){e&&v(t),N(r),N(u)}}}function Ye(e,t,a){let s,n,l,r,i,u,p,f,d,$;return K(e,Re,(e=>a(2,s=e))),K(e,Ae,(e=>a(3,n=e))),K(e,Be,(e=>a(4,l=e))),K(e,Me,(e=>a(5,r=e))),K(e,Se,(e=>a(6,i=e))),K(e,Ie,(e=>a(7,u=e))),K(e,Ve,(e=>a(8,p=e))),K(e,Pe,(e=>a(9,f=e))),K(e,Te,(e=>a(10,d=e))),K(e,Ue,(e=>a(0,$=e))),[$,function(){"player"===(null==s?void 0:s.type)&&ge.update((e=>e.map(((e,t)=>t===n.id?o(c({},e),{boost:0,setback:0}):e)))),"enemy"===(null==s?void 0:s.type)&&be.update((e=>e.map(((e,t)=>t===n.id?o(c({},e),{boost:0,setback:0}):e)))),Ae.set({boosts:0,setbacks:0,id:void 0}),l>=r.length-i?(Be.set(1),Ue.update((e=>e+1))):Be.update((e=>e+1)),"player"===(null==s?void 0:s.type)&&(Ne.set(u),qe.set(p),Ie.set(0),Ve.set(0)),"enemy"===(null==s?void 0:s.type)&&(Ne.set(f),qe.set(d),Pe.set(0),Te.set(0))}]}class Ze extends i{constructor(e){super(),u(this,e,Ye,Xe,p,{})}}function et(e){let t,a,s,n,l,r,c,o,i,u,p,k,E,w,x,B,S,O,R,j,C,U,L,z,K,_,F,W,G,H,J,Q,X,Y,Z,ee,te,ae,se,ne,le,re,ce,oe,ue,fe,de,$e,me,he,ve,ye,ge,be,ke,Ee,we,De,xe,Ie,Pe,Ve,Te,qe,Ne,Ae,Me,Be,Se,Oe,Re,je,Ce,Ue,Le,ze,Ke,_e,Fe,We,Ge,He,Je,Xe,Ye,Ze;return B=new Qe({props:{color:"var(--boost-color)",label:"+",icon:!0}}),B.$on("click",e[8]),O=new Qe({props:{color:"var(--boost-color)",label:"-",icon:!0}}),O.$on("click",e[9]),K=new Qe({props:{color:"var(--setback-color)",label:"+",icon:!0}}),K.$on("click",e[10]),F=new Qe({props:{color:"var(--setback-color)",label:"-",icon:!0}}),F.$on("click",e[11]),se=new Qe({props:{color:"var(--boost-color)",label:"+",icon:!0}}),se.$on("click",e[4]),le=new Qe({props:{color:"var(--boost-color)",label:"-",icon:!0}}),le.$on("click",e[5]),$e=new Qe({props:{color:"var(--setback-color)",label:"+",icon:!0}}),$e.$on("click",e[6]),he=new Qe({props:{color:"var(--setback-color)",label:"-",icon:!0}}),he.$on("click",e[7]),Ae=new ie({}),Re=new pe({}),We=new ie({}),Ye=new pe({}),{c(){t=f("div"),a=f("p"),s=d("Boosts & Setbacks"),n=A(),l=f("div"),r=f("p"),c=d("Adding New"),o=A(),i=f("div"),u=f("p"),p=d("Next Turn"),k=A(),E=f("div"),w=f("div"),x=f("div"),P(B.$$.fragment),S=A(),P(O.$$.fragment),R=A(),j=f("p"),C=d("Boosts"),U=A(),L=f("div"),z=f("div"),P(K.$$.fragment),_=A(),P(F.$$.fragment),W=A(),G=f("p"),H=d("Setback"),J=A(),Q=f("div"),X=f("p"),Y=d("Anyone's turn"),Z=A(),ee=f("div"),te=f("div"),ae=f("div"),P(se.$$.fragment),ne=A(),P(le.$$.fragment),re=A(),ce=f("p"),oe=d("Boosts"),ue=A(),fe=f("div"),de=f("div"),P($e.$$.fragment),me=A(),P(he.$$.fragment),ve=A(),ye=f("p"),ge=d("Setback"),be=A(),ke=f("div"),Ee=f("p"),we=d("Existing Dice"),De=A(),xe=f("div"),Ie=f("p"),Pe=d("Player Dice:"),Ve=A(),Te=f("p"),qe=d(e[0]),Ne=d("x"),P(Ae.$$.fragment),Me=A(),Be=f("p"),Se=d(e[1]),Oe=d("x"),P(Re.$$.fragment),je=A(),Ce=f("div"),Ue=f("p"),Le=d("Enemy Dice:"),ze=A(),Ke=f("p"),_e=d(e[2]),Fe=d("x"),P(We.$$.fragment),Ge=A(),He=f("p"),Je=d(e[3]),Xe=d("x"),P(Ye.$$.fragment),this.h()},l(f){t=$(f,"DIV",{class:!0});var d=m(t);a=$(d,"P",{class:!0});var y=m(a);s=h(y,"Boosts & Setbacks"),y.forEach(v),n=M(d),l=$(d,"DIV",{class:!0});var g=m(l);r=$(g,"P",{class:!0});var b=m(r);c=h(b,"Adding New"),b.forEach(v),o=M(g),i=$(g,"DIV",{class:!0});var D=m(i);u=$(D,"P",{class:!0});var I=m(u);p=h(I,"Next Turn"),I.forEach(v),k=M(D),E=$(D,"DIV",{class:!0});var P=m(E);w=$(P,"DIV",{class:!0});var T=m(w);x=$(T,"DIV",{class:!0});var q=m(x);V(B.$$.fragment,q),S=M(q),V(O.$$.fragment,q),q.forEach(v),R=M(T),j=$(T,"P",{class:!0});var N=m(j);C=h(N,"Boosts"),N.forEach(v),T.forEach(v),U=M(P),L=$(P,"DIV",{class:!0});var A=m(L);z=$(A,"DIV",{class:!0});var ie=m(z);V(K.$$.fragment,ie),_=M(ie),V(F.$$.fragment,ie),ie.forEach(v),W=M(A),G=$(A,"P",{class:!0});var pe=m(G);H=h(pe,"Setback"),pe.forEach(v),A.forEach(v),P.forEach(v),D.forEach(v),J=M(g),Q=$(g,"DIV",{class:!0});var Qe=m(Q);X=$(Qe,"P",{class:!0});var Ze=m(X);Y=h(Ze,"Anyone's turn"),Ze.forEach(v),Z=M(Qe),ee=$(Qe,"DIV",{class:!0});var et=m(ee);te=$(et,"DIV",{class:!0});var tt=m(te);ae=$(tt,"DIV",{class:!0});var at=m(ae);V(se.$$.fragment,at),ne=M(at),V(le.$$.fragment,at),at.forEach(v),re=M(tt),ce=$(tt,"P",{class:!0});var st=m(ce);oe=h(st,"Boosts"),st.forEach(v),tt.forEach(v),ue=M(et),fe=$(et,"DIV",{class:!0});var nt=m(fe);de=$(nt,"DIV",{class:!0});var lt=m(de);V($e.$$.fragment,lt),me=M(lt),V(he.$$.fragment,lt),lt.forEach(v),ve=M(nt),ye=$(nt,"P",{class:!0});var rt=m(ye);ge=h(rt,"Setback"),rt.forEach(v),nt.forEach(v),et.forEach(v),Qe.forEach(v),g.forEach(v),be=M(d),ke=$(d,"DIV",{class:!0});var ct=m(ke);Ee=$(ct,"P",{class:!0});var ot=m(Ee);we=h(ot,"Existing Dice"),ot.forEach(v),De=M(ct),xe=$(ct,"DIV",{class:!0});var it=m(xe);Ie=$(it,"P",{});var ut=m(Ie);Pe=h(ut,"Player Dice:"),ut.forEach(v),Ve=M(it),Te=$(it,"P",{class:!0});var pt=m(Te);qe=h(pt,e[0]),Ne=h(pt,"x"),V(Ae.$$.fragment,pt),pt.forEach(v),Me=M(it),Be=$(it,"P",{class:!0});var ft=m(Be);Se=h(ft,e[1]),Oe=h(ft,"x"),V(Re.$$.fragment,ft),ft.forEach(v),it.forEach(v),je=M(ct),Ce=$(ct,"DIV",{class:!0});var dt=m(Ce);Ue=$(dt,"P",{});var $t=m(Ue);Le=h($t,"Enemy Dice:"),$t.forEach(v),ze=M(dt),Ke=$(dt,"P",{class:!0});var mt=m(Ke);_e=h(mt,e[2]),Fe=h(mt,"x"),V(We.$$.fragment,mt),mt.forEach(v),Ge=M(dt),He=$(dt,"P",{class:!0});var ht=m(He);Je=h(ht,e[3]),Xe=h(ht,"x"),V(Ye.$$.fragment,ht),ht.forEach(v),dt.forEach(v),ct.forEach(v),d.forEach(v),this.h()},h(){y(a,"class","title svelte-k25yd7"),y(r,"class","title svelte-k25yd7"),y(u,"class","title svelte-k25yd7"),y(x,"class","button-container svelte-k25yd7"),y(j,"class","labeled-button-group-label svelte-k25yd7"),y(w,"class","labeled-button-group-container svelte-k25yd7"),y(z,"class","button-container svelte-k25yd7"),y(G,"class","labeled-button-group-label svelte-k25yd7"),y(L,"class","labeled-button-group-container svelte-k25yd7"),y(E,"class","horizontal svelte-k25yd7"),y(i,"class","subsection svelte-k25yd7"),y(X,"class","title svelte-k25yd7"),y(ae,"class","button-container svelte-k25yd7"),y(ce,"class","labeled-button-group-label svelte-k25yd7"),y(te,"class","labeled-button-group-container svelte-k25yd7"),y(de,"class","button-container svelte-k25yd7"),y(ye,"class","labeled-button-group-label svelte-k25yd7"),y(fe,"class","labeled-button-group-container svelte-k25yd7"),y(ee,"class","horizontal svelte-k25yd7"),y(Q,"class","subsection svelte-k25yd7"),y(l,"class","section svelte-k25yd7"),y(Ee,"class","title svelte-k25yd7"),y(Te,"class","dice-print svelte-k25yd7"),y(Be,"class","dice-print svelte-k25yd7"),y(xe,"class","existing-dice-row svelte-k25yd7"),y(Ke,"class","dice-print svelte-k25yd7"),y(He,"class","dice-print svelte-k25yd7"),y(Ce,"class","existing-dice-row svelte-k25yd7"),y(ke,"class","section svelte-k25yd7"),y(t,"class","card b svelte-k25yd7")},m(e,f){g(e,t,f),b(t,a),b(a,s),b(t,n),b(t,l),b(l,r),b(r,c),b(l,o),b(l,i),b(i,u),b(u,p),b(i,k),b(i,E),b(E,w),b(w,x),T(B,x,null),b(x,S),T(O,x,null),b(w,R),b(w,j),b(j,C),b(E,U),b(E,L),b(L,z),T(K,z,null),b(z,_),T(F,z,null),b(L,W),b(L,G),b(G,H),b(l,J),b(l,Q),b(Q,X),b(X,Y),b(Q,Z),b(Q,ee),b(ee,te),b(te,ae),T(se,ae,null),b(ae,ne),T(le,ae,null),b(te,re),b(te,ce),b(ce,oe),b(ee,ue),b(ee,fe),b(fe,de),T($e,de,null),b(de,me),T(he,de,null),b(fe,ve),b(fe,ye),b(ye,ge),b(t,be),b(t,ke),b(ke,Ee),b(Ee,we),b(ke,De),b(ke,xe),b(xe,Ie),b(Ie,Pe),b(xe,Ve),b(xe,Te),b(Te,qe),b(Te,Ne),T(Ae,Te,null),b(xe,Me),b(xe,Be),b(Be,Se),b(Be,Oe),T(Re,Be,null),b(ke,je),b(ke,Ce),b(Ce,Ue),b(Ue,Le),b(Ce,ze),b(Ce,Ke),b(Ke,_e),b(Ke,Fe),T(We,Ke,null),b(Ce,Ge),b(Ce,He),b(He,Je),b(He,Xe),T(Ye,He,null),Ze=!0},p(e,[t]){(!Ze||1&t)&&q(qe,e[0]),(!Ze||2&t)&&q(Se,e[1]),(!Ze||4&t)&&q(_e,e[2]),(!Ze||8&t)&&q(Je,e[3])},i(e){Ze||(I(B.$$.fragment,e),I(O.$$.fragment,e),I(K.$$.fragment,e),I(F.$$.fragment,e),I(se.$$.fragment,e),I(le.$$.fragment,e),I($e.$$.fragment,e),I(he.$$.fragment,e),I(Ae.$$.fragment,e),I(Re.$$.fragment,e),I(We.$$.fragment,e),I(Ye.$$.fragment,e),Ze=!0)},o(e){D(B.$$.fragment,e),D(O.$$.fragment,e),D(K.$$.fragment,e),D(F.$$.fragment,e),D(se.$$.fragment,e),D(le.$$.fragment,e),D($e.$$.fragment,e),D(he.$$.fragment,e),D(Ae.$$.fragment,e),D(Re.$$.fragment,e),D(We.$$.fragment,e),D(Ye.$$.fragment,e),Ze=!1},d(e){e&&v(t),N(B),N(O),N(K),N(F),N(se),N(le),N($e),N(he),N(Ae),N(Re),N(We),N(Ye)}}}function tt(e){return e<=0?0:e-1}function at(e,t,a){let s,n,l,r,c;return K(e,Re,(e=>a(12,s=e))),K(e,Ee,(e=>a(0,n=e))),K(e,De,(e=>a(1,l=e))),K(e,we,(e=>a(2,r=e))),K(e,xe,(e=>a(3,c=e))),[n,l,r,c,function(){"player"===s.type&&Ee.update((e=>e+1)),"enemy"===s.type&&we.update((e=>e+1))},function(){"player"===s.type&&Ee.update((e=>tt(e))),"enemy"===s.type&&we.update((e=>tt(e)))},function(){"player"===s.type&&De.update((e=>e+1)),"enemy"===s.type&&xe.update((e=>e+1))},function(){"player"===s.type&&De.update((e=>tt(e))),"enemy"===s.type&&xe.update((e=>tt(e)))},function(){"player"===s.type&&Ie.update((e=>e+1)),"enemy"===s.type&&Pe.update((e=>e+1))},function(){"player"===s.type&&Ie.update((e=>tt(e))),"enemy"===s.type&&Pe.update((e=>tt(e)))},function(){"player"===s.type&&Ve.update((e=>e+1)),"enemy"===s.type&&Te.update((e=>e+1))},function(){"player"===s.type&&Ve.update((e=>tt(e))),"enemy"===s.type&&Te.update((e=>tt(e)))}]}class st extends i{constructor(e){super(),u(this,e,at,et,p,{})}}function nt(e){let t,a;return{c(){t=f("p"),a=d("None")},l(e){t=$(e,"P",{});var s=m(t);a=h(s,"None"),s.forEach(v)},m(e,s){g(e,t,s),b(t,a)},d(e){e&&v(t)}}}function lt(e){let t,a,s,n,l;return n=new ie({}),{c(){t=f("div"),a=d(e[3]),s=d("x"),P(n.$$.fragment),this.h()},l(l){t=$(l,"DIV",{style:!0});var r=m(t);a=h(r,e[3]),s=h(r,"x"),V(n.$$.fragment,r),r.forEach(v),this.h()},h(){_(t,"display","flex"),_(t,"align-items","center")},m(e,r){g(e,t,r),b(t,a),b(t,s),T(n,t,null),l=!0},p(e,t){(!l||8&t)&&q(a,e[3])},i(e){l||(I(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&v(t),N(n)}}}function rt(e){let t,a,s,n,l;return n=new pe({}),{c(){t=f("div"),a=d(e[4]),s=d("x"),P(n.$$.fragment),this.h()},l(l){t=$(l,"DIV",{style:!0});var r=m(t);a=h(r,e[4]),s=h(r,"x"),V(n.$$.fragment,r),r.forEach(v),this.h()},h(){_(t,"display","flex"),_(t,"align-items","center")},m(e,r){g(e,t,r),b(t,a),b(t,s),T(n,t,null),l=!0},p(e,t){(!l||16&t)&&q(a,e[4])},i(e){l||(I(n.$$.fragment,e),l=!0)},o(e){D(n.$$.fragment,e),l=!1},d(e){e&&v(t),N(n)}}}function ct(e){let t,a,s,n,l,r,c,o,i,u,p,k,E,S,O,R,j,C,U,L,z,K,W,X,Y,Z,ee,te,ae,se,ne,le,re,ce,oe;i=new G({props:{icon:H.faMinus}}),k=new G({props:{icon:J.faPlus}}),L=new Qe({props:{activeDisable:e[7],small:!0,color:"var(--other-action-color)",label:e[8]?"Active":"Activate"}}),L.$on("click",e[13]),K=new Qe({props:{small:!0,color:"var(--setback-color)",label:"+Setback"}}),K.$on("click",e[10]),X=new Qe({props:{small:!0,color:"var(--boost-color)",label:"+Boost"}}),X.$on("click",e[9]);let ie=!e[3]&&!e[4]&&nt(),ue=e[3]>0&&lt(e),pe=e[4]>0&&rt(e);return{c(){t=f("div"),a=f("div"),s=f("p"),n=d(e[0]),l=A(),r=f("div"),c=f("div"),o=f("div"),P(i.$$.fragment),u=A(),p=f("div"),P(k.$$.fragment),E=A(),S=f("p"),O=d(e[2]),R=d("/"),j=d(e[1]),C=A(),U=f("div"),P(L.$$.fragment),z=A(),P(K.$$.fragment),W=A(),P(X.$$.fragment),Y=A(),Z=f("div"),ee=f("p"),te=d("Current Dice:"),ae=A(),se=f("div"),ie&&ie.c(),ne=A(),ue&&ue.c(),le=A(),pe&&pe.c(),this.h()},l(f){t=$(f,"DIV",{class:!0});var d=m(t);a=$(d,"DIV",{style:!0,class:!0});var y=m(a);s=$(y,"P",{class:!0});var g=m(s);n=h(g,e[0]),g.forEach(v),l=M(y),r=$(y,"DIV",{class:!0});var b=m(r);c=$(b,"DIV",{class:!0});var w=m(c);o=$(w,"DIV",{class:!0});var D=m(o);V(i.$$.fragment,D),D.forEach(v),u=M(w),p=$(w,"DIV",{class:!0});var x=m(p);V(k.$$.fragment,x),x.forEach(v),w.forEach(v),E=M(b),S=$(b,"P",{class:!0});var I=m(S);O=h(I,e[2]),R=h(I,"/"),j=h(I,e[1]),I.forEach(v),b.forEach(v),y.forEach(v),C=M(d),U=$(d,"DIV",{class:!0});var P=m(U);V(L.$$.fragment,P),z=M(P),V(K.$$.fragment,P),W=M(P),V(X.$$.fragment,P),P.forEach(v),Y=M(d),Z=$(d,"DIV",{class:!0});var T=m(Z);ee=$(T,"P",{class:!0});var q=m(ee);te=h(q,"Current Dice:"),q.forEach(v),ae=M(T),se=$(T,"DIV",{class:!0});var N=m(se);ie&&ie.l(N),ne=M(N),ue&&ue.l(N),le=M(N),pe&&pe.l(N),N.forEach(v),T.forEach(v),d.forEach(v),this.h()},h(){y(s,"class","main-text svelte-2y8iey"),y(o,"class","svelte-2y8iey"),y(p,"class","svelte-2y8iey"),y(c,"class","icon-container svelte-2y8iey"),y(S,"class","main-text svelte-2y8iey"),y(r,"class","wounds-container svelte-2y8iey"),_(a,"margin-top","0"),y(a,"class","row-container svelte-2y8iey"),y(U,"class","row-container svelte-2y8iey"),y(ee,"class","secondary-text svelte-2y8iey"),y(se,"class","dice-container svelte-2y8iey"),y(Z,"class","row-container svelte-2y8iey"),y(t,"class","card svelte-2y8iey"),B(t,"player",e[5]),B(t,"enemy",e[6])},m(f,d){g(f,t,d),b(t,a),b(a,s),b(s,n),b(a,l),b(a,r),b(r,c),b(c,o),T(i,o,null),b(c,u),b(c,p),T(k,p,null),b(r,E),b(r,S),b(S,O),b(S,R),b(S,j),b(t,C),b(t,U),T(L,U,null),b(U,z),T(K,U,null),b(U,W),T(X,U,null),b(t,Y),b(t,Z),b(Z,ee),b(ee,te),b(Z,ae),b(Z,se),ie&&ie.m(se,null),b(se,ne),ue&&ue.m(se,null),b(se,le),pe&&pe.m(se,null),re=!0,ce||(oe=[F(o,"click",e[12]),F(p,"click",e[11])],ce=!0)},p(e,[a]){(!re||1&a)&&q(n,e[0]),(!re||4&a)&&q(O,e[2]),(!re||2&a)&&q(j,e[1]);const s={};128&a&&(s.activeDisable=e[7]),256&a&&(s.label=e[8]?"Active":"Activate"),L.$set(s),e[3]||e[4]?ie&&(ie.d(1),ie=null):ie||(ie=nt(),ie.c(),ie.m(se,ne)),e[3]>0?ue?(ue.p(e,a),8&a&&I(ue,1)):(ue=lt(e),ue.c(),I(ue,1),ue.m(se,le)):ue&&(w(),D(ue,1,1,(()=>{ue=null})),x()),e[4]>0?pe?(pe.p(e,a),16&a&&I(pe,1)):(pe=rt(e),pe.c(),I(pe,1),pe.m(se,null)):pe&&(w(),D(pe,1,1,(()=>{pe=null})),x()),32&a&&B(t,"player",e[5]),64&a&&B(t,"enemy",e[6])},i(e){re||(I(i.$$.fragment,e),I(k.$$.fragment,e),I(L.$$.fragment,e),I(K.$$.fragment,e),I(X.$$.fragment,e),I(ue),I(pe),re=!0)},o(e){D(i.$$.fragment,e),D(k.$$.fragment,e),D(L.$$.fragment,e),D(K.$$.fragment,e),D(X.$$.fragment,e),D(ue),D(pe),re=!1},d(e){e&&v(t),N(i),N(k),N(L),N(K),N(X),ie&&ie.d(),ue&&ue.d(),pe&&pe.d(),ce=!1,Q(oe)}}}function ot(e,t,a){let s,n,l,r;K(e,Re,(e=>a(15,s=e))),K(e,Ae,(e=>a(16,n=e))),K(e,Be,(e=>a(17,l=e))),K(e,Me,(e=>a(18,r=e)));let{id:c}=t,{name:o=""}=t,{woundThreshold:i=10}=t,{wounds:u=0}=t,{boostDice:p=0}=t,{setbackDice:f=0}=t,{player:d=!1}=t,{enemy:$=!1}=t,m=!1,h=!1;function v(e){e.splice(c,1),l===r.length&&y()}function y(){Be.set(1),Ue.update((e=>e+1))}return e.$$set=e=>{"id"in e&&a(14,c=e.id),"name"in e&&a(0,o=e.name),"woundThreshold"in e&&a(1,i=e.woundThreshold),"wounds"in e&&a(2,u=e.wounds),"boostDice"in e&&a(3,p=e.boostDice),"setbackDice"in e&&a(4,f=e.setbackDice),"player"in e&&a(5,d=e.player),"enemy"in e&&a(6,$=e.enemy)},e.$$.update=()=>{var t,l;32768&e.$$.dirty&&("player"===(null==(t=s)?void 0:t.type)&&$&&a(7,m=!0),"player"===(null==t?void 0:t.type)&&d&&a(7,m=!1),"enemy"===(null==t?void 0:t.type)&&d&&a(7,m=!0),"enemy"===(null==t?void 0:t.type)&&$&&a(7,m=!1)),65536&e.$$.dirty&&(l=n,console.log(l),(null==l?void 0:l.id)===c?(d&&"player"===s.type&&a(8,h=!0),$&&"enemy"===s.type&&a(8,h=!0)):a(8,h=!1))},[o,i,u,p,f,d,$,m,h,function(e){if(e.ctrlKey)return d&&ge.update((e=>{let t=e;return t[c].boost-=1,[...t]})),void($&&be.update((e=>{let t=e;return t[c].boost-=1,[...t]})));d&&ge.update((e=>{let t=e;return t[c].boost+=1,[...t]})),$&&be.update((e=>{let t=e;return t[c].boost+=1,[...t]}))},function(e){if(e.ctrlKey)return d&&ge.update((e=>{let t=e;return t[c].setback-=1,[...t]})),void($&&be.update((e=>{let t=e;return t[c].setback-=1,[...t]})));d&&ge.update((e=>{let t=e;return t[c].setback+=1,[...t]})),$&&be.update((e=>{let t=e;return t[c].setback+=1,[...t]}))},function(){d&&ge.update((e=>{let t=e;return t[c].wound+=1,t[c].wound>=i&&(t[c].incapacitated=!0,l===r.length&&y()),[...t]})),$&&be.update((e=>{let t=e;return t[c].wound+=1,t[c].wound>=i&&v(t),[...t]}))},function(){d&&ge.update((e=>{let t=e;return t[c].wound-=1,t[c].wound<i&&t[c].incapacitated&&(t[c].incapacitated=!1),t[c].wound<0&&(t.splice(c,1),l===r.length&&y()),[...t]})),$&&be.update((e=>{let t=e;return t[c].wound-=1,t[c].wound<0&&v(t),[...t]}))},function(){if(d&&"player"===s.type||$&&"enemy"===s.type){if(n.id===c)return void Ae.set({boosts:0,setbacks:0,id:void 0});Ae.set({boosts:p,setbacks:f,id:c})}},c,s,n]}class it extends i{constructor(e){super(),u(this,e,ot,ct,p,{id:14,name:0,woundThreshold:1,wounds:2,boostDice:3,setbackDice:4,player:5,enemy:6})}}function ut(e){let t,a,s,n,l,r,c,o;const i=e[2].default,u=X(i,e,e[1],null);return{c(){t=f("div"),s=A(),n=f("div"),u&&u.c(),this.h()},l(e){t=$(e,"DIV",{class:!0}),m(t).forEach(v),s=M(e),n=$(e,"DIV",{class:!0});var a=m(n);u&&u.l(a),a.forEach(v),this.h()},h(){y(t,"class","background svelte-arjq5a"),y(n,"class","box svelte-arjq5a")},m(a,l){g(a,t,l),g(a,s,l),g(a,n,l),u&&u.m(n,null),r=!0,c||(o=F(t,"click",(function(){Y(e[0])&&e[0].apply(this,arguments)})),c=!0)},p(t,[a]){e=t,u&&u.p&&(!r||2&a)&&Z(u,i,e,e[1],a,null,null)},i(e){r||(S((()=>{a||(a=ee(t,te,{duration:250},!0)),a.run(1)})),I(u,e),S((()=>{l||(l=ee(n,j,{y:-100,duration:250},!0)),l.run(1)})),r=!0)},o(e){a||(a=ee(t,te,{duration:250},!1)),a.run(0),D(u,e),l||(l=ee(n,j,{y:-100,duration:250},!1)),l.run(0),r=!1},d(e){e&&v(t),e&&a&&a.end(),e&&v(s),e&&v(n),u&&u.d(e),e&&l&&l.end(),c=!1,o()}}}function pt(e,t,a){let{$$slots:s={},$$scope:n}=t,{closeMenu:l}=t;return e.$$set=e=>{"closeMenu"in e&&a(0,l=e.closeMenu),"$$scope"in e&&a(1,n=e.$$scope)},[l,n,s]}class ft extends i{constructor(e){super(),u(this,e,pt,ut,p,{closeMenu:0})}}function dt(e){let t,a,s,n;return{c(){t=f("p"),a=d(e[8]),this.h()},l(s){t=$(s,"P",{class:!0});var n=m(t);a=h(n,e[8]),n.forEach(v),this.h()},h(){y(t,"class","error svelte-150qs28")},m(e,s){g(e,t,s),b(t,a),n=!0},p(e,t){(!n||256&t)&&q(a,e[8])},i(e){n||(S((()=>{s||(s=ee(t,le,{duration:350},!0)),s.run(1)})),n=!0)},o(e){s||(s=ee(t,le,{duration:350},!1)),s.run(0),n=!1},d(e){e&&v(t),e&&s&&s.end()}}}function $t(e){let t,a,s,n,l,r,c,o,i,u,p,k,E,S,O,R,j,C,U,L,z,K,_,W,G,H,J,X,Z,ee,te,ne,le,re,ce,oe,ie=e[2]?"Player":"Enemy";ee=new Qe({props:{type:"submit",label:"Add",color:e[2]?"var(--player-color)":"var(--enemy-color)"}}),ne=new Qe({props:{type:"button",small:!0,label:"Cancel",color:"var(--other-action-color)"}}),ne.$on("click",(function(){Y(e[0])&&e[0].apply(this,arguments)}));let ue=e[8]&&dt(e);return{c(){t=f("form"),a=f("p"),s=d("Add New "),n=d(ie),l=A(),r=f("input"),c=A(),o=f("input"),i=A(),u=f("div"),p=f("label"),k=f("input"),E=A(),S=f("p"),O=d("Success"),R=A(),j=f("label"),C=f("input"),U=A(),L=f("p"),z=d("Triumph"),K=A(),_=f("label"),W=f("input"),G=A(),H=f("p"),J=d("Advantage"),X=A(),Z=f("div"),P(ee.$$.fragment),te=A(),P(ne.$$.fragment),le=A(),ue&&ue.c(),this.h()},l(e){t=$(e,"FORM",{class:!0});var f=m(t);a=$(f,"P",{class:!0});var d=m(a);s=h(d,"Add New "),n=h(d,ie),d.forEach(v),l=M(f),r=$(f,"INPUT",{placeholder:!0,class:!0,type:!0}),c=M(f),o=$(f,"INPUT",{placeholder:!0,class:!0,type:!0}),i=M(f),u=$(f,"DIV",{class:!0});var y=m(u);p=$(y,"LABEL",{class:!0});var g=m(p);k=$(g,"INPUT",{class:!0,type:!0}),E=M(g),S=$(g,"P",{});var b=m(S);O=h(b,"Success"),b.forEach(v),g.forEach(v),R=M(y),j=$(y,"LABEL",{class:!0});var w=m(j);C=$(w,"INPUT",{class:!0,type:!0}),U=M(w),L=$(w,"P",{});var D=m(L);z=h(D,"Triumph"),D.forEach(v),w.forEach(v),K=M(y),_=$(y,"LABEL",{class:!0});var x=m(_);W=$(x,"INPUT",{class:!0,type:!0}),G=M(x),H=$(x,"P",{});var I=m(H);J=h(I,"Advantage"),I.forEach(v),x.forEach(v),y.forEach(v),X=M(f),Z=$(f,"DIV",{class:!0});var P=m(Z);V(ee.$$.fragment,P),te=M(P),V(ne.$$.fragment,P),P.forEach(v),le=M(f),ue&&ue.l(f),f.forEach(v),this.h()},h(){y(a,"class","title svelte-150qs28"),y(r,"placeholder","Character Name"),y(r,"class","text-input svelte-150qs28"),y(r,"type","text"),B(r,"player",e[2]),B(r,"enemy",e[1]),y(o,"placeholder","Wounds"),y(o,"class","number-input svelte-150qs28"),y(o,"type","number"),B(o,"player",e[2]),B(o,"enemy",e[1]),y(k,"class","initiative-input svelte-150qs28"),y(k,"type","number"),B(k,"player",e[2]),B(k,"enemy",e[1]),y(p,"class","svelte-150qs28"),y(C,"class","initiative-input svelte-150qs28"),y(C,"type","number"),B(C,"player",e[2]),B(C,"enemy",e[1]),y(j,"class","svelte-150qs28"),y(W,"class","initiative-input svelte-150qs28"),y(W,"type","number"),B(W,"player",e[2]),B(W,"enemy",e[1]),y(_,"class","svelte-150qs28"),y(u,"class","initiative svelte-150qs28"),y(Z,"class","button-container svelte-150qs28"),y(t,"class","svelte-150qs28")},m(f,d){g(f,t,d),b(t,a),b(a,s),b(a,n),b(t,l),b(t,r),e[11](r),ae(r,e[3]),b(t,c),b(t,o),ae(o,e[4]),b(t,i),b(t,u),b(u,p),b(p,k),ae(k,e[5]),b(p,E),b(p,S),b(S,O),b(u,R),b(u,j),b(j,C),ae(C,e[6]),b(j,U),b(j,L),b(L,z),b(u,K),b(u,_),b(_,W),ae(W,e[7]),b(_,G),b(_,H),b(H,J),b(t,X),b(t,Z),T(ee,Z,null),b(Z,te),T(ne,Z,null),b(t,le),ue&&ue.m(t,null),re=!0,ce||(oe=[F(r,"input",e[12]),F(o,"input",e[13]),F(k,"input",e[14]),F(C,"input",e[15]),F(W,"input",e[16]),F(t,"submit",e[10])],ce=!0)},p(a,[s]){e=a,(!re||4&s)&&ie!==(ie=e[2]?"Player":"Enemy")&&q(n,ie),8&s&&r.value!==e[3]&&ae(r,e[3]),4&s&&B(r,"player",e[2]),2&s&&B(r,"enemy",e[1]),16&s&&se(o.value)!==e[4]&&ae(o,e[4]),4&s&&B(o,"player",e[2]),2&s&&B(o,"enemy",e[1]),32&s&&se(k.value)!==e[5]&&ae(k,e[5]),4&s&&B(k,"player",e[2]),2&s&&B(k,"enemy",e[1]),64&s&&se(C.value)!==e[6]&&ae(C,e[6]),4&s&&B(C,"player",e[2]),2&s&&B(C,"enemy",e[1]),128&s&&se(W.value)!==e[7]&&ae(W,e[7]),4&s&&B(W,"player",e[2]),2&s&&B(W,"enemy",e[1]);const l={};4&s&&(l.color=e[2]?"var(--player-color)":"var(--enemy-color)"),ee.$set(l),e[8]?ue?(ue.p(e,s),256&s&&I(ue,1)):(ue=dt(e),ue.c(),I(ue,1),ue.m(t,null)):ue&&(w(),D(ue,1,1,(()=>{ue=null})),x())},i(e){re||(I(ee.$$.fragment,e),I(ne.$$.fragment,e),I(ue),re=!0)},o(e){D(ee.$$.fragment,e),D(ne.$$.fragment,e),D(ue),re=!1},d(a){a&&v(t),e[11](null),N(ee),N(ne),ue&&ue.d(),ce=!1,Q(oe)}}}function mt(e,t,a){let s;K(e,ke,(e=>a(17,s=e)));let n,{closeMenu:l}=t,{enemy:r=!1}=t,{player:c=!1}=t,o="",i="",u=0,p=0,f=0,d="";return ne((()=>{n.focus()})),e.$$set=e=>{"closeMenu"in e&&a(0,l=e.closeMenu),"enemy"in e&&a(1,r=e.enemy),"player"in e&&a(2,c=e.player)},[l,r,c,o,i,u,p,f,d,n,function(e){e.preventDefault(),function(){if(!o||!i)return!1;return!0}()?(ke.update((e=>e+1)),c&&ge.update((e=>[...e,{name:o,woundThreshold:i,wound:0,boost:0,setback:0,initiative:{success:u,triumph:p,advantage:f},uid:s,incapacitated:!1}])),r&&be.update((e=>[...e,{name:o,woundThreshold:i,wound:0,boost:0,setback:0,initiative:{success:u,triumph:p,advantage:f},uid:s,incapacitated:!1}])),l()):a(8,d="One or more fields are empty!")},function(e){re[e?"unshift":"push"]((()=>{n=e,a(9,n)}))},function(){o=this.value,a(3,o)},function(){i=se(this.value),a(4,i)},function(){u=se(this.value),a(5,u)},function(){p=se(this.value),a(6,p)},function(){f=se(this.value),a(7,f)}]}class ht extends i{constructor(e){super(),u(this,e,mt,$t,p,{closeMenu:0,enemy:1,player:2})}}function vt(e,t,a){const s=e.slice();return s[6]=t[a],s[8]=a,s}function yt(e,t,a){const s=e.slice();return s[9]=t[a],s[8]=a,s}function gt(e,t){let a,s,n;return s=new it({props:{player:!0,id:t[8],name:t[9].name,woundThreshold:t[9].woundThreshold,wounds:t[9].wound,boostDice:t[9].boost,setbackDice:t[9].setback}}),{key:e,first:null,c(){a=E(),P(s.$$.fragment),this.h()},l(e){a=E(),V(s.$$.fragment,e),this.h()},h(){this.first=a},m(e,t){g(e,a,t),T(s,e,t),n=!0},p(e,a){t=e;const n={};4&a&&(n.id=t[8]),4&a&&(n.name=t[9].name),4&a&&(n.woundThreshold=t[9].woundThreshold),4&a&&(n.wounds=t[9].wound),4&a&&(n.boostDice=t[9].boost),4&a&&(n.setbackDice=t[9].setback),s.$set(n)},i(e){n||(I(s.$$.fragment,e),n=!0)},o(e){D(s.$$.fragment,e),n=!1},d(e){e&&v(a),N(s,e)}}}function bt(e){let t,a;return t=new it({props:{enemy:!0,id:e[8],name:e[6].name,woundThreshold:e[6].woundThreshold,wounds:e[6].wound,boostDice:e[6].boost,setbackDice:e[6].setback}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p(e,a){const s={};8&a&&(s.name=e[6].name),8&a&&(s.woundThreshold=e[6].woundThreshold),8&a&&(s.wounds=e[6].wound),8&a&&(s.boostDice=e[6].boost),8&a&&(s.setbackDice=e[6].setback),t.$set(s)},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function kt(e){let t,a;return t=new ft({props:{closeMenu:e[4],$$slots:{default:[Et]},$$scope:{ctx:e}}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p(e,a){const s={};2048&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function Et(e){let t,a;return t=new ht({props:{player:!0,closeMenu:e[4]}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p:k,i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function wt(e){let t,a;return t=new ft({props:{closeMenu:e[5],$$slots:{default:[Dt]},$$scope:{ctx:e}}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p(e,a){const s={};2048&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function Dt(e){let t,a;return t=new ht({props:{enemy:!0,closeMenu:e[5]}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){T(t,e,s),a=!0},p:k,i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){D(t.$$.fragment,e),a=!1},d(e){N(t,e)}}}function xt(e){let t,a,s,n,l,r,c,o,i,u,p,k,q,B,S,O,R,j,C,U,K,W,H,X,Y=[],Z=new Map;c=new G({props:{icon:J.faPlus}});let ee=e[2];const te=e=>e[8];for(let f=0;f<ee.length;f+=1){let t=yt(e,ee,f),a=te(t);Z.set(a,Y[f]=gt(a,t))}O=new G({props:{icon:J.faPlus}});let ae=e[3],se=[];for(let f=0;f<ae.length;f+=1)se[f]=bt(vt(e,ae,f));const ne=e=>D(se[e],1,1,(()=>{se[e]=null}));let le=e[0]&&kt(e),re=e[1]&&wt(e);return{c(){t=f("div"),a=f("div"),s=f("p"),n=d("Players"),l=A(),r=f("div"),P(c.$$.fragment),o=A(),i=f("div");for(let e=0;e<Y.length;e+=1)Y[e].c();u=A(),p=f("div"),k=f("p"),q=d("Enemies"),B=A(),S=f("div"),P(O.$$.fragment),R=A(),j=f("div");for(let e=0;e<se.length;e+=1)se[e].c();C=A(),le&&le.c(),U=A(),re&&re.c(),K=E(),this.h()},l(e){t=$(e,"DIV",{class:!0});var f=m(t);a=$(f,"DIV",{class:!0});var d=m(a);s=$(d,"P",{class:!0});var y=m(s);n=h(y,"Players"),y.forEach(v),l=M(d),r=$(d,"DIV",{});var g=m(r);V(c.$$.fragment,g),g.forEach(v),d.forEach(v),o=M(f),i=$(f,"DIV",{class:!0});var b=m(i);for(let t=0;t<Y.length;t+=1)Y[t].l(b);b.forEach(v),u=M(f),p=$(f,"DIV",{class:!0,style:!0});var w=m(p);k=$(w,"P",{class:!0});var D=m(k);q=h(D,"Enemies"),D.forEach(v),B=M(w),S=$(w,"DIV",{});var x=m(S);V(O.$$.fragment,x),x.forEach(v),w.forEach(v),R=M(f),j=$(f,"DIV",{class:!0});var I=m(j);for(let t=0;t<se.length;t+=1)se[t].l(I);I.forEach(v),f.forEach(v),C=M(e),le&&le.l(e),U=M(e),re&&re.l(e),K=E(),this.h()},h(){y(s,"class","section-header svelte-1l9aex6"),y(a,"class","header-container svelte-1l9aex6"),y(i,"class","char-container svelte-1l9aex6"),y(k,"class","section-header svelte-1l9aex6"),y(p,"class","header-container svelte-1l9aex6"),_(p,"margin-top","2em"),y(j,"class","char-container svelte-1l9aex6"),y(t,"class","card a svelte-1l9aex6")},m(f,d){g(f,t,d),b(t,a),b(a,s),b(s,n),b(a,l),b(a,r),T(c,r,null),b(t,o),b(t,i);for(let e=0;e<Y.length;e+=1)Y[e].m(i,null);b(t,u),b(t,p),b(p,k),b(k,q),b(p,B),b(p,S),T(O,S,null),b(t,R),b(t,j);for(let e=0;e<se.length;e+=1)se[e].m(j,null);g(f,C,d),le&&le.m(f,d),g(f,U,d),re&&re.m(f,d),g(f,K,d),W=!0,H||(X=[F(r,"click",e[4]),F(S,"click",e[5])],H=!0)},p(e,[t]){if(4&t&&(ee=e[2],w(),Y=L(Y,t,te,1,e,ee,Z,i,z,gt,null,yt),x()),8&t){let a;for(ae=e[3],a=0;a<ae.length;a+=1){const s=vt(e,ae,a);se[a]?(se[a].p(s,t),I(se[a],1)):(se[a]=bt(s),se[a].c(),I(se[a],1),se[a].m(j,null))}for(w(),a=ae.length;a<se.length;a+=1)ne(a);x()}e[0]?le?(le.p(e,t),1&t&&I(le,1)):(le=kt(e),le.c(),I(le,1),le.m(U.parentNode,U)):le&&(w(),D(le,1,1,(()=>{le=null})),x()),e[1]?re?(re.p(e,t),2&t&&I(re,1)):(re=wt(e),re.c(),I(re,1),re.m(K.parentNode,K)):re&&(w(),D(re,1,1,(()=>{re=null})),x())},i(e){if(!W){I(c.$$.fragment,e);for(let e=0;e<ee.length;e+=1)I(Y[e]);I(O.$$.fragment,e);for(let e=0;e<ae.length;e+=1)I(se[e]);I(le),I(re),W=!0}},o(e){D(c.$$.fragment,e);for(let t=0;t<Y.length;t+=1)D(Y[t]);D(O.$$.fragment,e),se=se.filter(Boolean);for(let t=0;t<se.length;t+=1)D(se[t]);D(le),D(re),W=!1},d(e){e&&v(t),N(c);for(let t=0;t<Y.length;t+=1)Y[t].d();N(O),ce(se,e),e&&v(C),le&&le.d(e),e&&v(U),re&&re.d(e),e&&v(K),H=!1,Q(X)}}}function It(e,t,a){let s,n;K(e,ge,(e=>a(2,s=e))),K(e,be,(e=>a(3,n=e)));let l=!1,r=!1;return[l,r,s,n,function(){a(0,l=!l)},function(){a(1,r=!r)}]}class Pt extends i{constructor(e){super(),u(this,e,It,xt,p,{})}}function Vt(e){let t,a,s,n,l,r,c,o,i;return{c(){t=f("div"),a=f("p"),s=d("Report a "),n=f("a"),l=d("bug"),r=d("\r\n\t\tor leave a feature\r\n\t\t"),c=f("a"),o=d("request"),i=d("."),this.h()},l(e){t=$(e,"DIV",{class:!0});var u=m(t);a=$(u,"P",{class:!0});var p=m(a);s=h(p,"Report a "),n=$(p,"A",{target:!0,href:!0,class:!0});var f=m(n);l=h(f,"bug"),f.forEach(v),r=h(p,"\r\n\t\tor leave a feature\r\n\t\t"),c=$(p,"A",{target:!0,href:!0,class:!0});var d=m(c);o=h(d,"request"),d.forEach(v),i=h(p,"."),p.forEach(v),u.forEach(v),this.h()},h(){y(n,"target","_blank"),y(n,"href","https://github.com/Supergamer1337/skycombat-publish/issues/new"),y(n,"class","svelte-1k9vk1e"),y(c,"target","_blank"),y(c,"href","https://github.com/Supergamer1337/skycombat-publish/issues/new"),y(c,"class","svelte-1k9vk1e"),y(a,"class","svelte-1k9vk1e"),y(t,"class","svelte-1k9vk1e")},m(e,u){g(e,t,u),b(t,a),b(a,s),b(a,n),b(n,l),b(a,r),b(a,c),b(c,o),b(a,i)},p:k,i:k,o:k,d(e){e&&v(t)}}}class Tt extends i{constructor(e){super(),u(this,e,null,Vt,p,{})}}function qt(e){let t,a,s,n,l,r,c,o,i;return a=new Pt({}),n=new st({}),r=new Ze({}),o=new Tt({}),{c(){t=f("div"),P(a.$$.fragment),s=A(),P(n.$$.fragment),l=A(),P(r.$$.fragment),c=A(),P(o.$$.fragment),this.h()},l(e){t=$(e,"DIV",{class:!0});var i=m(t);V(a.$$.fragment,i),s=M(i),V(n.$$.fragment,i),l=M(i),V(r.$$.fragment,i),i.forEach(v),c=M(e),V(o.$$.fragment,e),this.h()},h(){y(t,"class","container svelte-1hsgdp1")},m(e,u){g(e,t,u),T(a,t,null),b(t,s),T(n,t,null),b(t,l),T(r,t,null),g(e,c,u),T(o,e,u),i=!0},p:k,i(e){i||(I(a.$$.fragment,e),I(n.$$.fragment,e),I(r.$$.fragment,e),I(o.$$.fragment,e),i=!0)},o(e){D(a.$$.fragment,e),D(n.$$.fragment,e),D(r.$$.fragment,e),D(o.$$.fragment,e),i=!1},d(e){e&&v(t),N(a),N(n),N(r),e&&v(c),N(o,e)}}}new class extends i{constructor(e){super(),u(this,e,null,qt,p,{})}}({target:document.body,props:{name:"world"}});
